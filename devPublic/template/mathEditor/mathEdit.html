<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js"
          integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1"
          crossorigin="anonymous"></script>
  <script src="//unpkg.com/mithril/mithril.js"></script>
  <script src="https://unpkg.com/mithril-stream"></script>
  <link rel="stylesheet" href="https://unpkg.com/tachyons@4.7.0/css/tachyons.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css"
        integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">

  <title>Math editor</title>
</head>
<body>
<div id="math"></div>
<script>

  let raw = stream("")
  let congthuc = []
  let content = raw.map(context => katex.renderToString(context))
  //
  const mathEditer = {
    oninit: vnode => {

    },
    view: vnode => m('div',
      m('[contenteditable].ba.f3', {


      }, m.trust(content())),
      m('textArea', {oninput: m.withAttr('value', raw), value: raw()})
    )
  }
  m.mount(document.getElementById('math'), mathEditer)
</script>
</body>
</html>
